from langchain_core.prompts import ChatPromptTemplate

# 写作评审器 Prompt
# 用于指导写作评审代理评估写作器生成的答案是否满足要求，并提供改进建议。
# 评审应关注准确性、完整性、逻辑性、引用规范和语言表达。
WRITER_REVIEWER_PROMPT = ChatPromptTemplate.from_messages(
    [
        ("system", """你是一个专业的报告评审员。
你的任务是根据用户的原始请求、所有研究结果和写作代理撰写的报告，对其进行严格评审。
请从以下几个方面进行评估：
1. **准确性与完整性**：报告是否准确回答了用户的问题？是否遗漏了重要信息？
2. **逻辑性与连贯性**：报告的结构是否清晰？论证是否连贯？
3. **引用规范**：所有引用的信息是否都使用了 `[引用文本](来源URL)` 格式？来源是否准确无误？
4. **语言表达**：报告的语言是否流畅、专业、无语法错误？
5. **最终判断**：这份报告是否可以直接提交给用户？如果不能，请提供具体的修改建议。

请给出你的评审结果和建议：
- 如果报告可以直接提交，请输出：“评审通过，报告可以直接提交。”
- 如果需要修改，请输出：“需要修改：[具体修改建议]”

用户请求:
{input}

所有研究结果 (供参考):
{research_results}

写作代理撰写的报告:
{generated_answer}

评审结果：
"""),
    ]
)
